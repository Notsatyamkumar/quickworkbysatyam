<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sign Up - QuickWork</title>
  <link rel="stylesheet" href="styles/main.css" />
</head>
<body>
  <div class="auth-container" id="auth-page">
    <div class="card auth-card">
      <div class="auth-header">
        <h1 class="auth-title">QuickWork</h1>
        <h2 class="auth-subtitle">Find Jobs Near You</h2>
      </div>

      <div id="signup-form" class="auth-form">
        <form onsubmit="handleSignup(event)">
          <div class="form-group">
            <label class="label" for="firstName">First Name</label>
            <input id="firstName" class="input" type="text" required />
          </div>
          <div class="form-group">
            <label class="label" for="lastName">Last Name</label>
            <input id="lastName" class="input" type="text" required />
          </div>
          <div class="form-group">
            <label class="label" for="email">Email</label>
            <input id="email" class="input" type="email" required />
          </div>
          <div class="form-group">
            <label class="label" for="phone">Phone Number</label>
            <input id="phone" class="input" type="tel" required />
          </div>
          <div class="form-group">
            <label class="label">User Type</label>
            <select id="userType" class="input" required>
              <option value="">Select user type</option>
              <option value="job-seeker">Job Seeker</option>
              <option value="employer">Employer</option>
            </select>
          </div>
          <div class="form-group">
            <div class="checkbox-wrapper">
              <input type="checkbox" id="locationPermission" required />
              <label for="locationPermission">Allow location access</label>
            </div>
            <div class="checkbox-wrapper">
              <input type="checkbox" id="storagePermission" required />
              <label for="storagePermission">Allow storage access</label>
            </div>
            <div class="checkbox-wrapper">
              <input type="checkbox" id="termsAccepted" required />
              <label for="termsAccepted">I agree to the <a href="terms.html" target="_blank">Terms</a> & <a href="privacy.html" target="_blank">Privacy</a></label>
            </div>
          </div>
          <button type="submit" class="btn btn-primary w-full mt-4">Send OTP</button>
        </form>
      </div>

      <div id="otp-verification" class="auth-form hidden">
        <form onsubmit="verifyOTP(event)">
          <div class="form-group">
            <label class="label" for="otp">Enter OTP</label>
            <input id="otp" class="input" type="text" maxlength="6" pattern="\d{6}" required />
            <p class="text-sm text-muted mt-2">Enter the 6-digit code sent to your phone</p>
          </div>
          <button type="submit" class="btn btn-primary w-full mt-4">Verify & Continue</button>
        </form>
      </div>
    </div>
  </div>

  <script>
    function handleSignup(event) {
      event.preventDefault();
      document.getElementById('signup-form').classList.add('hidden');
      document.getElementById('otp-verification').classList.remove('hidden');
    }

    function verifyOTP(event) {
      event.preventDefault();
      const userData = {
        firstName: document.getElementById('firstName').value,
        lastName: document.getElementById('lastName').value,
        email: document.getElementById('email').value,
        phone: document.getElementById('phone').value,
        userType: document.getElementById('userType').value
      };
      localStorage.setItem('currentUser', JSON.stringify(userData));
      window.location.href = 'home.html';
    }
  </script>

  <!-- âœ… Firebase SDK -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.7.1/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.7.1/firebase-analytics.js";

    const firebaseConfig = {
      apiKey: "AIzaSyAplEsMkwRDjUepKTOIllq3iibmqiT0u4Y",
      authDomain: "quickwork-ca23c.firebaseapp.com",
      projectId: "quickwork-ca23c",
      storageBucket: "quickwork-ca23c.appspot.com",
      messagingSenderId: "278427414311",
      appId: "1:278427414311:web:d27998800343726339c302",
      measurementId: "G-EM1DJPCEKE"
    };

    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
  </script>
</body>
</html>
